import{post as l}from"crud";var i=[{tag:"section",children:[{tag:"h1",children:[{text:"Admin login"}]},{tag:"form",handlers:[{name:"onsubmit",h_fn:(a,e)=>a.submit(e)}],attr:[{name:"class",val:"thin"}],children:[{some:[{tag:"div",attr:[{name:"class",val:"error note"}],if:"_.failure",children:[{text:`
    Failure
  `}]}]},{tag:"label",children:[{tag:"h3",children:[{text:"Email"}]},{tag:"input",attr:[{name:"name",val:"email"},{name:"type",val:"email"},{name:"value",val:"admin@example.com"},{name:"autofocus",val:!0,bool:!0},{name:"autocomplete",val:"email"},{name:"class",val:"fullsize"}]}]},{tag:"label",children:[{tag:"h3",children:[{text:"Password"}]},{tag:"input",attr:[{name:"name",val:"password"},{name:"type",val:"password"},{name:"value",val:"demo123"},{name:"autocomplete",val:"current-password"},{name:"class",val:"fullsize"}]}]},{tag:"p",children:[{tag:"button",attr:[{name:"class",val:"fullsize"},{name:"disabled",fn:(a)=>a.disabled,bool:!0}],children:[{text:"Log in"}]}]}]}],script:function(){this.submit=function(a){this.disabled=!0;let e=Object.fromEntries(new FormData(a.target));l("/api/login",e).then((t)=>{localStorage.$sid=t.sessionId,location.href="/admin/"}).catch((t)=>{this.update({failure:!0,disabled:!1})})}},is:"default-app"}];export{i as lib};
