import{get as i,post as n}from"crud";import{state as e}from"state";e.setup({query:["type","query","start"],emit_only:["deleted"],memory:["ondelete"],route:"/admin/:id",autolink:!0});if(!localStorage.$sid)location.href="/login/";var r=[{tag:"body",script:function(){this.onmount=async function(){let t=await i("/api/admin/all");e.on("id",({id:a})=>{this.mount(a?"contact-details":"contact-list","article",t)}),e.init()},this.logout=async function(){await n("/api/logout"),delete localStorage.$sid,location.href="/"}},children:[{tag:"header",children:[{tag:"nav",children:[{tag:"a",attr:[{name:"href",val:"/admin/"},{name:"class",val:"logo"}],children:[{tag:"b",children:[{text:"â– "}]},{text:" Admin"}]}]},{tag:"nav",children:[{tag:"button",attr:[{name:"class",val:"plain"}],handlers:[{name:"onclick",h_fn:(t,a)=>t.logout(a)}],children:[{text:"Logout"}]}]}]},{tag:"main",children:[{tag:"article"}]},{tag:"confirm-delete",is_custom:!0}],is:"default-app"}];export{r as lib};
